# 2. AI 현장 안전검사 앱

단순한 AI가 아닌, AI가 분석하여 위험 요소를 판단해주는 앱을 제작합니다.

[데모영상](https://youtu.be/4onx3u9OvDQ)

## 전체 구성

AI Builder와 Power Apps를 활용한 앱을 제작합니다.  
현장의 이미지를 입력하면 AI가 그 이미지 내에서 가시적인 또는 잠재적인 위험 요소를 분석하고, 그에 관한 안전 가이드를 제공합니다.  
이를 위해 먼저 ① AI Builder 프롬프트를 제작하고, ② Power Apps를 통해 이미지를 업로드하고, AI Builder를 호출하고 결과를 받아보도록 연결합니다.  

[Power Apps](https://make.powerapps.com)에서 실습을 진행합니다.  

## AI Builder 프롬프트 제작

[이미지]

Power Apps 메뉴에서 'AI 허브'로 이동하여, '프롬프트' - '프롬프트 직접 만들기'로 새 프롬프트를 생성합니다.  


[이미지]

프롬프트를 자동 생성하기 위해 Copilot을 활용합니다.  
아래의 내용을 이용하여 프롬프트를 자동 생성합니다.  

> 현장 안전 전문가로서 물류창고의 사고 사진을 분석하는 AI 어시스턴트를 위한 프롬프트를 생성합니다. 이 프롬프트는 사진 내부의 바닥에 흰색 또는 노란색으로 표시된 구획선을 기준으로, 내부 또는 외부 한 쪽에 물건이 적재되어 있는지 여부와 안전 요소가 지켜지고 있는지 판별하고, 안전 관련 가이드를 제공하는 데 목적이 있습니다. 답변과 프롬프트는 모두 한국어로 작성되어야 합니다.

[이미지]

AI가 생성한 프롬프트를 확인하고, 문제가 없다면 '유지'합니다.  

[이미지]

[샘플 이미지]()를 업로드하여 프롬프트를 테스트합니다.  

[이미지]

결과를 확인하고, 프롬프트의 이름을 설정하고 저장합니다.   

## Power Apps로 앱 제작

[이미지]

메뉴에서 '+ 만들기'를 클릭합니다.

[이미지]

'빈 캔버스로 시작' - '휴대폰 크기'를 선택하여 빈 캔버스를 생성합니다.

[이미지]

'+ 삽입' 메뉴를 이용하여 이미지를 업로드할 수 있는 요소를 추가합니다.  
'미디어' - '사진 추가'를 추가하고, 원하는 위치에 배치합니다.  

[이미지]

동일한 방식으로 '버튼', '텍스트 레이블'도 추가하여 위치와 크기를 조정합니다.


[이미지]

이제 아까 만든 AI Builder 프롬프트를 앱에 연결합니다.  
왼쪽의 데이터 탭으로 넘어가, 데이터 추가 버튼을 클릭하여 직전에 만든 AI Builder를 추가합니다.  
잠시 기다리면 자동으로 연결이 완료됩니다.  

[이미지]

연결이 완료된 이후에는 버튼을 선택하고, `OnSelect` 속성을 변경하여 버튼을 클릭하였을 때 수행할 작업을 설정합니다.    

```
Set(result, '현장 안전검사 사진판독 AI'.Predict(UploadedImage1.Image).Text)
```

[이미지]

텍스트 레이블을 선택하고, `Text` 속성을 변경하여 AI Builder 프롬프트의 분석결과를 레이블에 출력할 수 있도록 합니다.  

```
result
```



## 테스트

[이미지]

앱 미리보기를 통해 만든 앱을 테스트할 수 있습니다.  
사진을 업로드하고, 버튼을 눌러 결과를 확인합니다.  

